// ------------------------------------------------------------
// GLOBAL LOADING OVERLAY CONTROLLER
// ------------------------------------------------------------

function showLoading() {
    const overlay = document.getElementById("loadingOverlay");
    if (overlay) {
        overlay.style.display = "flex";
    }
}

function hideLoading() {
    const overlay = document.getElementById("loadingOverlay");
    if (overlay) {
        overlay.style.display = "none";
    }
}

// ------------------------------------------------------------
// Automatically activate loading when ANY form is submitted
// ------------------------------------------------------------

document.addEventListener("DOMContentLoaded", () => {
    const forms = document.querySelectorAll("form");

    forms.forEach(form => {
        form.addEventListener("submit", () => {
            showLoading();
        });
    });

    // Trigger loading when clicking upload buttons
    const uploadButtons = document.querySelectorAll(".btn-primary");
    uploadButtons.forEach(btn => {
        btn.addEventListener("click", () => {
            showLoading();
        });
    });
});
